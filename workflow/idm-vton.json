{"id":"8edc1fb5-4842-4f93-a60a-0766afcafdb2","revision":0,"last_node_id":32,"last_link_id":52,"nodes":[{"id":9,"type":"ETN_ApplyMaskToImage","pos":[-1006.4937744140625,-1073.2406005859375],"size":[170.62362670898438,55.7512321472168],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":46},{"localized_name":"mask","name":"mask","type":"MASK","link":5}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[2]}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"bff22b83512da61c55123c711108f1e7079beee5","Node name for S&R":"ETN_ApplyMaskToImage"},"widgets_values":[]},{"id":31,"type":"LoadImage","pos":[-1333.6739501953125,-962.7249145507812],"size":[274.080078125,314.0000305175781],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[45,46,47,48,49]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_00316_.png","image"],"color":"#232","bgcolor":"#353"},{"id":13,"type":"LoadImage","pos":[-1336.4398193359375,-558.2713012695312],"size":[274.080078125,314],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[6,8]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"LoadImage"},"widgets_values":["S95a5ffcd2349414ead063486b08dfd90x.jpg_640x640.webp","image"],"color":"#322","bgcolor":"#533"},{"id":2,"type":"PipelineLoader","pos":[-810.051025390625,-1086.3046875],"size":[270,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"PIPELINE","name":"PIPELINE","type":"PIPELINE","links":[13]}],"properties":{"cnr_id":"comfyui-idm-vton","ver":"1.0.1","Node name for S&R":"PipelineLoader"},"widgets_values":["float16"]},{"id":16,"type":"MaskToImage","pos":[-485.421142578125,-1076.3575439453125],"size":[184.62362670898438,26],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":19}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":32,"type":"GetImageSize+","pos":[-444.34808349609375,-975.6001586914062],"size":[159.50155639648438,66],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":49}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[50]},{"localized_name":"height","name":"height","type":"INT","links":[51]},{"localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"1.1.0","Node name for S&R":"GetImageSize+"},"widgets_values":[]},{"id":7,"type":"MaskPreview","pos":[-1039.5689697265625,-955.4586791992188],"size":[140,246.00006103515625],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":3}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":14,"type":"BatchCLIPSeg","pos":[-732.974365234375,-970.734130859375],"size":[270,266],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":45},{"localized_name":"opt_model","name":"opt_model","shape":7,"type":"CLIPSEGMODEL","link":12},{"localized_name":"prev_mask","name":"prev_mask","shape":7,"type":"MASK","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"binary_mask","name":"binary_mask","type":"BOOLEAN","widget":{"name":"binary_mask"},"link":null},{"localized_name":"combine_mask","name":"combine_mask","type":"BOOLEAN","widget":{"name":"combine_mask"},"link":null},{"localized_name":"use_cuda","name":"use_cuda","type":"BOOLEAN","widget":{"name":"use_cuda"},"link":null},{"localized_name":"blur_sigma","name":"blur_sigma","shape":7,"type":"FLOAT","widget":{"name":"blur_sigma"},"link":null},{"localized_name":"image_bg_level","name":"image_bg_level","shape":7,"type":"FLOAT","widget":{"name":"image_bg_level"},"link":null},{"localized_name":"invert","name":"invert","shape":7,"type":"BOOLEAN","widget":{"name":"invert"},"link":null}],"outputs":[{"localized_name":"Mask","name":"Mask","type":"MASK","links":[3,5,19]},{"localized_name":"Image","name":"Image","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.0","Node name for S&R":"BatchCLIPSeg"},"widgets_values":["full body and shoulders and garment and legs",0.13600000000000004,true,false,true,24.1,0.5,false],"color":"#232","bgcolor":"#353"},{"id":6,"type":"PreviewImage","pos":[-888.1138916015625,-955.6942138671875],"size":[140,246.00006103515625],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":2}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":11,"type":"ETN_ApplyMaskToImage","pos":[-992.3471069335938,-643.0708618164062],"size":[170.62362670898438,55.7512321472168],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":8},{"localized_name":"mask","name":"mask","type":"MASK","link":9}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[10]}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"bff22b83512da61c55123c711108f1e7079beee5","Node name for S&R":"ETN_ApplyMaskToImage"},"widgets_values":[]},{"id":3,"type":"MaskPreview","pos":[-1035.5360107421875,-502.3786315917969],"size":[140,246.00006103515625],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":1}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":12,"type":"PreviewImage","pos":[-887.2470703125,-495.7532043457031],"size":[140,246.00006103515625],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":10}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":10,"type":"BatchCLIPSeg","pos":[-714.7037353515625,-521.6058959960938],"size":[270,266],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":6},{"localized_name":"opt_model","name":"opt_model","shape":7,"type":"CLIPSEGMODEL","link":52},{"localized_name":"prev_mask","name":"prev_mask","shape":7,"type":"MASK","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"binary_mask","name":"binary_mask","type":"BOOLEAN","widget":{"name":"binary_mask"},"link":null},{"localized_name":"combine_mask","name":"combine_mask","type":"BOOLEAN","widget":{"name":"combine_mask"},"link":null},{"localized_name":"use_cuda","name":"use_cuda","type":"BOOLEAN","widget":{"name":"use_cuda"},"link":null},{"localized_name":"blur_sigma","name":"blur_sigma","shape":7,"type":"FLOAT","widget":{"name":"blur_sigma"},"link":null},{"localized_name":"image_bg_level","name":"image_bg_level","shape":7,"type":"FLOAT","widget":{"name":"image_bg_level"},"link":null},{"localized_name":"invert","name":"invert","shape":7,"type":"BOOLEAN","widget":{"name":"invert"},"link":null}],"outputs":[{"localized_name":"Mask","name":"Mask","type":"MASK","links":[1,9]},{"localized_name":"Image","name":"Image","type":"IMAGE","links":[18]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.0","Node name for S&R":"BatchCLIPSeg"},"widgets_values":["dress",0.26000000000000006,true,false,true,9.8,0.5,false],"color":"#322","bgcolor":"#533"},{"id":5,"type":"DownloadAndLoadCLIPSeg","pos":[-1333.2918701171875,-1066.714599609375],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null}],"outputs":[{"localized_name":"clipseg_model","name":"clipseg_model","type":"CLIPSEGMODEL","links":[12,52]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.0","Node name for S&R":"DownloadAndLoadCLIPSeg"},"widgets_values":["Kijai/clipseg-rd64-refined-fp16"]},{"id":1,"type":"IDM-VTON","pos":[-284.4236145019531,-1063.788330078125],"size":[400,390],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"localized_name":"pipeline","name":"pipeline","type":"PIPELINE","link":13},{"localized_name":"human_img","name":"human_img","type":"IMAGE","link":48},{"localized_name":"pose_img","name":"pose_img","type":"IMAGE","link":47},{"localized_name":"mask_img","name":"mask_img","type":"IMAGE","link":20},{"localized_name":"garment_img","name":"garment_img","type":"IMAGE","link":18},{"localized_name":"garment_description","name":"garment_description","type":"STRING","widget":{"name":"garment_description"},"link":null},{"localized_name":"negative_prompt","name":"negative_prompt","type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":50},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":51},{"localized_name":"num_inference_steps","name":"num_inference_steps","type":"INT","widget":{"name":"num_inference_steps"},"link":null},{"localized_name":"guidance_scale","name":"guidance_scale","type":"FLOAT","widget":{"name":"guidance_scale"},"link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[14]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-idm-vton","ver":"1.0.1","Node name for S&R":"IDM-VTON"},"widgets_values":["dress","bad arms, bad quality, ugly, disformed",800,1200,30,2,1,851318034999356,"randomize"]},{"id":15,"type":"SaveImage","pos":[-405.01361083984375,-612.4674682617188],"size":[538.4833984375,376.2153015136719],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":14},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37"},"widgets_values":["vton output"]}],"links":[[1,10,0,3,0,"MASK"],[2,9,0,6,0,"IMAGE"],[3,14,0,7,0,"MASK"],[5,14,0,9,1,"MASK"],[6,13,0,10,0,"IMAGE"],[8,13,0,11,0,"IMAGE"],[9,10,0,11,1,"MASK"],[10,11,0,12,0,"IMAGE"],[12,5,0,14,1,"CLIPSEGMODEL"],[13,2,0,1,0,"PIPELINE"],[14,1,0,15,0,"IMAGE"],[18,10,1,1,4,"IMAGE"],[19,14,0,16,0,"MASK"],[20,16,0,1,3,"IMAGE"],[45,31,0,14,0,"IMAGE"],[46,31,0,9,0,"IMAGE"],[47,31,0,1,2,"IMAGE"],[48,31,0,1,1,"IMAGE"],[49,31,0,32,0,"IMAGE"],[50,32,0,1,7,"INT"],[51,32,1,1,8,"INT"],[52,5,0,10,1,"CLIPSEGMODEL"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7452752317212886,"offset":[1653.3001388495204,1323.840225961572]}},"version":0.4}