{"id":"215efb3c-74a6-4c1c-9207-fe58bae6042a","revision":0,"last_node_id":23,"last_link_id":35,"nodes":[{"id":1,"type":"DownloadAndLoadCLIPSeg","pos":[570.1937255859375,1137.3406982421875],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null}],"outputs":[{"localized_name":"clipseg_model","name":"clipseg_model","type":"CLIPSEGMODEL","links":[9]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.0","Node name for S&R":"DownloadAndLoadCLIPSeg"},"widgets_values":["Kijai/clipseg-rd64-refined-fp16"]},{"id":2,"type":"PreviewImage","pos":[1015.6084594726562,1272.2559814453125],"size":[140,246.00006103515625],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":1}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":3,"type":"MaskPreview","pos":[868.5428466796875,1275.5372314453125],"size":[140,246.00006103515625],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":2}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":4,"type":"LoadImage","pos":[533.0404052734375,535.0128784179688],"size":[315,314.0000305175781],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[6,8,10]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_kxptu_00008_.png","image"],"color":"#322","bgcolor":"#533"},{"id":6,"type":"BatchCLIPSeg","pos":[570.125244140625,1246.696044921875],"size":[270,266],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":8},{"localized_name":"opt_model","name":"opt_model","shape":7,"type":"CLIPSEGMODEL","link":9},{"localized_name":"prev_mask","name":"prev_mask","shape":7,"type":"MASK","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"binary_mask","name":"binary_mask","type":"BOOLEAN","widget":{"name":"binary_mask"},"link":null},{"localized_name":"combine_mask","name":"combine_mask","type":"BOOLEAN","widget":{"name":"combine_mask"},"link":null},{"localized_name":"use_cuda","name":"use_cuda","type":"BOOLEAN","widget":{"name":"use_cuda"},"link":null},{"localized_name":"blur_sigma","name":"blur_sigma","shape":7,"type":"FLOAT","widget":{"name":"blur_sigma"},"link":null},{"localized_name":"image_bg_level","name":"image_bg_level","shape":7,"type":"FLOAT","widget":{"name":"image_bg_level"},"link":null},{"localized_name":"invert","name":"invert","shape":7,"type":"BOOLEAN","widget":{"name":"invert"},"link":null}],"outputs":[{"localized_name":"Mask","name":"Mask","type":"MASK","links":[2,7]},{"localized_name":"Image","name":"Image","type":"IMAGE","links":[1]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.0","Node name for S&R":"BatchCLIPSeg"},"widgets_values":["dress",0.15800000000000003,true,false,true,12.3,0.7800000000000001,false]},{"id":14,"type":"VAEEncode","pos":[1272.3343505859375,1201.8719482421875],"size":[210,46],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":22},{"localized_name":"vae","name":"vae","type":"VAE","link":23}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[31]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":19,"type":"KSampler","pos":[1539.9578857421875,1123.657958984375],"size":[315,474.00006103515625],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":28},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":29},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":30},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":31},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[24]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"KSampler"},"widgets_values":[873691389978286,"randomize",16,1,"euler","karras",0.9000000000000001]},{"id":8,"type":"CheckpointLoaderSimple","pos":[111.20492553710938,241.5054168701172],"size":[315,98],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[12]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[32,33]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[5,11,21]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CheckpointLoaderSimple","models":[{"name":"v1-5-pruned-emaonly-fp16.safetensors","url":"https://huggingface.co/Comfy-Org/stable-diffusion-v1-5-archive/resolve/main/v1-5-pruned-emaonly-fp16.safetensors?download=true","directory":"checkpoints"}]},"widgets_values":["juggernautXL_versionXInpaint.safetensors"],"color":"#322","bgcolor":"#533"},{"id":21,"type":"CLIPTextEncode","pos":[612.6522216796875,368.9964294433594],"size":[422.84503173828125,164.31304931640625],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":33},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":34}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[3]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CLIPTextEncode"},"widgets_values":["woman in a bikini"]},{"id":10,"type":"CLIPTextEncode","pos":[1301.859130859375,1020.3445434570312],"size":[422.84503173828125,164.31304931640625],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":16},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":17}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CLIPTextEncode"},"widgets_values":["woman in a bikini"]},{"id":11,"type":"CLIPTextEncode","pos":[1301.219970703125,1076.2506103515625],"size":[425.27801513671875,180.6060791015625],"flags":{"collapsed":true},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":18},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CLIPTextEncode"},"widgets_values":["\n"]},{"id":12,"type":"FluxGuidance","pos":[1561.021728515625,1019.8933715820312],"size":[270,58],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":19},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[29]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"FluxGuidance"},"widgets_values":[2.8000000000000003]},{"id":15,"type":"VAEDecode","pos":[1883.3428955078125,1127.1995849609375],"size":[210,46],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":24},{"localized_name":"vae","name":"vae","type":"VAE","link":25}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":9,"type":"KSampler","pos":[1287.7894287109375,286.4086608886719],"size":[315,474],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":12},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":13},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":14},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":15},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"KSampler"},"widgets_values":[295021726806893,"randomize",25,1,"euler","karras",0.9000000000000001]},{"id":23,"type":"SaveImage","pos":[1968.945068359375,340.1116027832031],"size":[463.6000061035156,488.1000061035156],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":35},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"title":"Save Image after fix","properties":{"cnr_id":"comfy-core","ver":"0.3.37"},"widgets_values":["ComfyUI"]},{"id":13,"type":"VAEDecode","pos":[1625.7366943359375,298.07171630859375],"size":[210,46],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":20},{"localized_name":"vae","name":"vae","type":"VAE","link":21}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[22,27]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":18,"type":"SaveImage","pos":[1632.6033935546875,395.70257568359375],"size":[210,360.1885681152344],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":27},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.37"},"widgets_values":["ComfyUI"]},{"id":5,"type":"InpaintModelConditioning","pos":[888.80224609375,697.0362548828125],"size":[270,138],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":3},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":4},{"localized_name":"vae","name":"vae","type":"VAE","link":5},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":6},{"localized_name":"mask","name":"mask","type":"MASK","link":7},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[13]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[14]},{"localized_name":"latent","name":"latent","type":"LATENT","links":[15]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":7,"type":"VAEEncode","pos":[921.0590209960938,583.7304077148438],"size":[210,46],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":10},{"localized_name":"vae","name":"vae","type":"VAE","link":11}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":20,"type":"CLIPTextEncode","pos":[613.7745361328125,419.1368408203125],"size":[425.27801513671875,180.6060791015625],"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":32},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CLIPTextEncode"},"widgets_values":["\nugly, bad, watermark"]},{"id":22,"type":"PrimitiveString","pos":[571.250732421875,239.544677734375],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[17,34]}],"title":"prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"PrimitiveString"},"widgets_values":["woman in a bikini"]},{"id":17,"type":"CheckpointLoaderSimple","pos":[77.79216003417969,546.3446655273438],"size":[315,98],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[28]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[16,18]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[23,25]}],"title":"Load Checkpoint for fix","properties":{"cnr_id":"comfy-core","ver":"0.3.37","Node name for S&R":"CheckpointLoaderSimple","models":[{"name":"v1-5-pruned-emaonly-fp16.safetensors","url":"https://huggingface.co/Comfy-Org/stable-diffusion-v1-5-archive/resolve/main/v1-5-pruned-emaonly-fp16.safetensors?download=true","directory":"checkpoints"}]},"widgets_values":["realDream_flux1V1.safetensors"],"color":"#322","bgcolor":"#533"}],"links":[[1,6,1,2,0,"IMAGE"],[2,6,0,3,0,"MASK"],[3,21,0,5,0,"CONDITIONING"],[4,20,0,5,1,"CONDITIONING"],[5,8,2,5,2,"VAE"],[6,4,0,5,3,"IMAGE"],[7,6,0,5,4,"MASK"],[8,4,0,6,0,"IMAGE"],[9,1,0,6,1,"CLIPSEGMODEL"],[10,4,0,7,0,"IMAGE"],[11,8,2,7,1,"VAE"],[12,8,0,9,0,"MODEL"],[13,5,0,9,1,"CONDITIONING"],[14,5,1,9,2,"CONDITIONING"],[15,5,2,9,3,"LATENT"],[16,17,1,10,0,"CLIP"],[17,22,0,10,1,"STRING"],[18,17,1,11,0,"CLIP"],[19,10,0,12,0,"CONDITIONING"],[20,9,0,13,0,"LATENT"],[21,8,2,13,1,"VAE"],[22,13,0,14,0,"IMAGE"],[23,17,2,14,1,"VAE"],[24,19,0,15,0,"LATENT"],[25,17,2,15,1,"VAE"],[27,13,0,18,0,"IMAGE"],[28,17,0,19,0,"MODEL"],[29,12,0,19,1,"CONDITIONING"],[30,11,0,19,2,"CONDITIONING"],[31,14,0,19,3,"LATENT"],[32,8,1,20,0,"CLIP"],[33,8,1,21,0,"CLIP"],[34,22,0,21,1,"STRING"],[35,15,0,23,0,"IMAGE"]],"groups":[{"id":1,"title":"latent","bounding":[487.52325439453125,463.6982727050781,700.1656494140625,414.9020080566406],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"mask","bounding":[543.98828125,1052.0360107421875,627.6300048828125,478.0899963378906],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Flux fix","bounding":[1273.1925048828125,926.3474731445312,863.5800170898438,701.9400024414062],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.7513148009015782,"offset":[578.96075830775,-141.47703053599557]}},"version":0.4}